local function AntiMultiOpen()
    local existingGui = game:GetService("CoreGui"):FindFirstChild("KJY_Team_AntiDup")
    if existingGui then
        game:GetService("Players").LocalPlayer:Kick("Script already running! Please wait.")
        return false
    end
    
    local antiDupGui = Instance.new("ScreenGui")
    antiDupGui.Name = "KJY_Team_AntiDup"
    antiDupGui.Parent = game:GetService("CoreGui")
    
    game:GetService("Players").PlayerRemoving:Connect(function(player)
        if player == game:GetService("Players").LocalPlayer then
            antiDupGui:Destroy()
        end
    end)
    
    return true
end

if not AntiMultiOpen() then
    return
end

local a=((function()local a,b=0,1 return function(c)local d=b;if c then a,b=0,1 end;b=a+b;a=d;return a end end)())

-- ==================== 修改这里：使用WindUI库 ====================
-- 原来的有问题，换成WindUI的链接
local windui_code = game:HttpGet(https://raw.githubusercontent.com/qiaoxxyxx/Roblox/refs/heads/main/ui.lua)
local WindUI = loadstring(windui_code)()
local d = true
local e = game:GetService("\80\108\97\121\101\114\115").LocalPlayer
e.Idled:Connect(function()
    game:GetService("\86\105\114\116\117\97\108\85\115\101\114"):Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    wait(1)
    game:GetService("\86\105\114\116\117\97\108\85\115\101\114"):Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
end)

-- 剩下的代码保持不变...

-- ==================== 修改窗口创建部分 ====================
-- 使用WindUI的方式创建窗口
local N = WindUI:CreateWindow({
    Title = "Crazy Top",
    Size = UDim2.new(0, 290, 0, 340),
    Theme = "Pink"  -- 使用粉色主题匹配WindUI风格
})

-- 或者如果WindUI有不同的创建方式：
local N = {
    Tab = function(tabInfo)
        return {
            Paragraph = function(paraInfo)
                WindUI.AddButton(paraInfo.Title, paraInfo.Desc, function() end)
                return {
                    SetDesc = function(text)
                        WindUI.UpdateTitle(text)
                    end
                }
            end,
            Toggle = function(toggleInfo)
                local state = toggleInfo.Value
                WindUI.AddButton(toggleInfo.Title, toggleInfo.Desc, function()
                    state = not state
                    toggleInfo.Callback(state)
                end)
            end,
            Button = function(buttonInfo)
                WindUI.AddButton(buttonInfo.Title, buttonInfo.Desc, buttonInfo.Callback)
            end
        }
    end,
    EditOpenButton = function() end
}

-- 剩下的代码保持不变...
local O=N:Tab({Title="\77\97\105\110",Icon=""})
local P=O:Paragraph({Title="\83\116\97\116\115",Desc="\76\111\97\100\105\110\103\46\46\46",Image="\117\115\101\114\115",ImageSize=0x19})
coroutine.wrap(function()while wait(0x1)do pcall(function()local Q=e["\108\101\97\100\101\114\115\116\97\116\115"]["\83\116\114\101\110\103\116\104"].Value;local R=tick()if C>0x0 then local S=(Q-C)/(R-E)if R-F>=G then table.insert(D,S)if#D>H then table.remove(D,0x1)end;F=R end end;C=Q;E=R;local T=J()local U=I()P:SetDesc("\83\116\114\101\110\103\116\104\58\32"..w(Q,0x1).."\10\65\118\103\32\71\97\105\110\58\32"..w(T,0x1).."\47\115\10\68\97\105\108\121\58\32"..w(T*0x15180,0x1).."\10\77\111\110\116\104\108\121\58\32"..w(T*0x278D00,0x1).."\10\83\97\109\112\108\101\115\58\32"..#D.."\47"..H.."\10"..(U and"\226\156\85\32\80\114\111\116\101\105\110\32\69\103\103\32\120\50"or"\226\157\140\32\78\111\32\66\111\111\115\116"))end)end end)()
